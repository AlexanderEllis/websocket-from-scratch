See https://alexanderell.is/posts/websockets-from-scratch/
